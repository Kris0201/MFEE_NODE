<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    <input type="text" id="myinput">
    <button onclick="sendData()">send</button>
    <div id="info"></div>
    <script>
        // 將json格式的變數data傳給/try-post, 再回傳回來轉成txt顯示
        function sendData() {
            const data = {
                name: 'David',
                age: 27
            };
            data.my = document.querySelector('#myinput').value;

            fetch('/try-post', {
                method: 'POST',
                body: JSON.stringify(data),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
                .then(r => r.text())
                .then(txt => {
                    document.querySelector('#info').innerHTML = txt;
                })
        }

    </script>
</body>

</html>